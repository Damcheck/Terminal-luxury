import{L as k,A as E,N as C,i as F}from"./detect-scroll-direction-CMTv0ZBx.js";import{S as q}from"./shared-animations-C6NHXnxh.js";import{C as z}from"./global-swiper-CIEx1VyH.js";import{D}from"./drag-follower-CaHV_THh.js";import{M as I,F as M}from"./marquee-DoEEElvA.js";class P{constructor(){this.init()}init(){this.initHighlightText()}initHighlightText(){document.querySelectorAll("[data-highlight-text]").forEach(e=>{const u=e.getAttribute("data-highlight-scroll-start")||"top 90%",l=e.getAttribute("data-highlight-scroll-end")||"center 40%",o=e.getAttribute("data-highlight-fade")||.2,n=e.getAttribute("data-highlight-stagger")||.1;new SplitText(e,{type:"words, chars",autoSplit:!0,onSplit(g){return gsap.context(()=>{gsap.timeline({scrollTrigger:{scrub:1.1,trigger:e,start:u,end:l}}).from(g.chars,{autoAlpha:o,stagger:n,ease:"linear"})})}})})}}class T{constructor(){this.init()}init(){this.initFlickCards()}initFlickCards(){document.querySelectorAll("[data-flick-cards-init]").forEach(e=>{const u=e.querySelector("[data-flick-cards-list]"),l=Array.from(u.querySelectorAll("[data-flick-cards-item]")),o=l.length;let n=0;const g=e.offsetWidth,x=0,p=[];l.forEach(a=>{const s=document.createElement("div");s.setAttribute("data-flick-cards-dragger",""),a.appendChild(s),p.push(s)}),e.setAttribute("data-flick-drag-status","grab");function b(a,s){let i=a-s;switch(i>o/2?i-=o:i<-o/2&&(i+=o),i){case 0:return{x:0,y:0,rot:0,s:1,o:1,z:5};case 1:return{x:80,y:1,rot:10,s:.8,o:1,z:4};case-1:return{x:-80,y:1,rot:-10,s:.8,o:1,z:4};case 2:return{x:100,y:5,rot:15,s:.8,o:1,z:3};case-2:return{x:-100,y:5,rot:-15,s:.8,o:1,z:3};default:const t=i>0?1:-1;return{x:55*t,y:5,rot:20*t,s:.6,o:0,z:2}}}function y(a){l.forEach((s,i)=>{const t=b(i,a);let r;t.x===0?r="active":t.x===25?r="2-after":t.x===-25?r="2-before":t.x===45?r="3-after":t.x===-45?r="3-before":r="hidden",s.setAttribute("data-flick-cards-item-status",r),s.style.zIndex=t.z,gsap.to(s,{duration:.6,ease:"elastic.out(1, 1)",xPercent:t.x,yPercent:t.y,rotation:t.rot,scale:t.s,opacity:t.o})})}y(n);let A=0,v=0;Draggable.create(p,{type:"x",edgeResistance:.8,bounds:{minX:-g/2,maxX:g/2},inertia:!1,onPress(){A=this.pointerX,v=this.pointerY,e.setAttribute("data-flick-drag-status","grabbing")},onDrag(){const a=this.x/g,s=Math.min(1,Math.abs(a)),i=a>0?-1:1,t=(n+i+o)%o;l.forEach((r,h)=>{const m=b(h,n),S=b(h,t),f=w=>m[w]+(S[w]-m[w])*s;gsap.set(r,{xPercent:f("x"),yPercent:f("y"),rotation:f("rot"),scale:f("s"),opacity:f("o")})})},onRelease(){e.setAttribute("data-flick-drag-status","grab");const a=this.pointerX,s=this.pointerY,i=Math.hypot(a-A,s-v),t=this.x/g;let r=0;t>x?r=-1:t<-x&&(r=1),r!==0&&(n=(n+r+o)%o,y(n)),gsap.to(this.target,{x:0,duration:.3,ease:"power1.out"}),i<4&&(this.target.style.pointerEvents="none",requestAnimationFrame(()=>{requestAnimationFrame(()=>{const h=document.elementFromPoint(a,s);if(h){const m=new MouseEvent("click",{view:window,bubbles:!0,cancelable:!0});h.dispatchEvent(m)}this.target.style.pointerEvents="auto"})}))}})})}}window.addEventListener("DOMContentLoaded",async()=>{new k,new E,new C,F(),new P,new q,new z,new D,new I,new T,new M;const d=document.querySelectorAll(".vision-image img");let c=0;const e=d.length;function u(){d[c].setAttribute("data-status","out"),c=(c+1)%e,d[c].setAttribute("data-status","in")}setInterval(u,4e3)});
